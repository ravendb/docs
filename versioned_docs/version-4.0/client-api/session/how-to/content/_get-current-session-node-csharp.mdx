import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

When working in a RavenDB cluster, a database can reside on multiple nodes. When the client needs to send a request to the server, it can have several nodes to choose from.

The choice of the node depends on the value of `ReadBalanceBehavior`, which is taken from the current **conventions** (read more about it [here](../../../../client-api/configuration/load-balance-and-failover.mdx)).

In order to find out what is the current node that the session sends its requests to, use the `GetCurrentSessionNode` method  from the `Advanced` session operations.

## Syntax

<TabItem value="current_session_node_1" label="current_session_node_1">
<CodeBlock language="csharp">
{`Task<ServerNode> GetCurrentSessionNode();
`}
</CodeBlock>
</TabItem>

### Return Value

The return value of `GetCurrentSessionNode` is a **ServerNode** object
<TabItem value="current_session_node_2" label="current_session_node_2">
<CodeBlock language="csharp">
{`public class ServerNode
\{
    public string Url;
    public string Database;
    public string ClusterTag;
    public Role ServerRole;

    [Flags]
    public enum Role
    \{
        None = 0,
        Promotable = 1,
        Member = 2,
        Rehab = 4
    \}
\}
`}
</CodeBlock>
</TabItem>

## Example

<TabItem value="current_session_node_3" label="current_session_node_3">
<CodeBlock language="csharp">
{`ServerNode serverNode = await session.Advanced.GetCurrentSessionNode();
Console.WriteLine(serverNode.Url);
`}
</CodeBlock>
</TabItem>


