import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">

* This page explains how time series data can be streamed:  
  1. Stream a time series directly.
  2. Stream time series query results.

* In this page:
  * [Syntax](../../../document-extensions/timeseries/querying/stream-timeseries.mdx#syntax)
  * [Examples](../../../document-extensions/timeseries/querying/stream-timeseries.mdx#examples)

</Admonition>
## Syntax

### Stream a time series directly:  

Get a time series (using `timeSeriesFor().get()`, and call `stream()`).  

<TabItem value="java" label="java">
<CodeBlock language="java">
{`<T> CloseableIterator<StreamResult<T>> stream(IRawDocumentQuery<T> query);
`}
</CodeBlock>
</TabItem>

| Parameters | Type | Description |
| - | - | - |
| **query** | `IRawDocumentQuery<T>` | Raw data |


### Stream results of time series queries:  

This syntax is the same as the syntax for streaming query results in general, 
found [here](../../../client-api/session/querying/how-to-stream-query-results.mdx).  

<TabItem value="stream_methods" label="stream_methods">
<CodeBlock language="java">
{`<T> CloseableIterator<StreamResult<T>> stream(IDocumentQuery<T> query, Reference<StreamQueryStatistics> streamQueryStats);

<T> CloseableIterator<StreamResult<T>> stream(IRawDocumentQuery<T> query);

<T> CloseableIterator<StreamResult<T>> stream(IRawDocumentQuery<T> query, Reference<StreamQueryStatistics> streamQueryStats);
`}
</CodeBlock>
</TabItem>

| Parameters | | |
| ------------- | ------------- | ----- |
| **query** | [IDocumentQuery](../../../querying/overview.mdx#session-advanced-documentquery) or [IRawDocumentQuery](../../../querying/overview.mdx#session-advanced-rawquery) | Query to stream results for. |
| `Reference` **streamQueryStats** | StreamQueryStatistics | Information about performed query. |

| Return Value | |
| ------------- | ----- |
| CloseableIterator&lt;StreamResult&gt; | Iterator with entities. |



## Examples

[comment]: &lt;
### Example I

Using `timeSeriesFor`:

<TabItem value="direct" label="direct">
<CodeBlock language="java">
{`ISessionDocumentTimeSeries timeseries = session.timeSeriesFor("HeartRate", "user/1-A");
`}
</CodeBlock>
</TabItem>

&gt; (There isn't get to stream, a sample couldn't exists like that)

### Example 

Using a `rawQuery`:

<TabItem value="query" label="query">
<CodeBlock language="java">
{`IRawDocumentQuery<Employee> query = session.advanced()
    .rawQuery(Employee.class,
        "from Users\\n" +
        "select timeseries (\\n" +
        "    from HeartRate\\n"+
        ")"
    );

CloseableIterator<StreamResult<Employee>> results = session.advanced().stream(query);
`}
</CodeBlock>
</TabItem>




