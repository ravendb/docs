---
title: "Compare-Exchange Configuration"
hide_table_of_contents: true
sidebar_label: "Configuration"
sidebar_position: 12
---

import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import LanguageSwitcher from "@site/src/components/LanguageSwitcher";
import LanguageContent from "@site/src/components/LanguageContent";

<Admonition type="note" title="">

* For an overview of what configuration options are and how they can be applied,  
  see the [Configuration Overview](../server/configuration/configuration-options) article.    

* The following configuration options are available for compare-exchange:  
    * [Cluster.CompareExchangeExpiredDeleteFrequencyInSec](../compare-exchange/configuration#clustercompareexchangeexpireddeletefrequencyinsec)  
    * [Cluster.CompareExchangeTombstonesCleanupIntervalInMin](../compare-exchange/configuration#clustercompareexchangetombstonescleanupintervalinmin)  
    * [Cluster.MaxClusterTransactionCompareExchangeTombstoneCheckIntervalInMin](../compare-exchange/configuration#clustermaxclustertransactioncompareexchangetombstonecheckintervalinmin)
    * [Cluster.DisableAtomicDocumentWrites](../todo..)  

</Admonition>

---

<Admonition type="note" title="">    

## Cluster.CompareExchangeExpiredDeleteFrequencyInSec

Time (in seconds) between cleanup of **expired** compare-exchange items.

- **Type**: `int`
- **Default**: `60`
- **Scope**: Server-wide only

</Admonition>

<Admonition type="note" title="">    

## Cluster.CompareExchangeTombstonesCleanupIntervalInMin

* Compare-exchange tombstones are created when compare-exchange items are [deleted](..//compare-exchange/delete-cmpxchg-items).  
  These tombstones are not removed immediately - RavenDB uses an internal cleaner task to periodically remove tombstones that are eligible for deletion.

* This configuration option sets the interval, in minutes, between each cleanup run.

* At each interval, the cleaner will only remove tombstones that are ready for removal - meaning their deletion has already been processed by all relevant subscribers. 
  Subscribers are internal RavenDB processes that need to observe or react to compare-exchange deletions, 
  such as indexes, ETL tasks, subscriptions, etc.   
  Tombstones become eligible for removal only after all such processes have handled the deletion.

---

- **Type**: `int`
- **Default**: `10`
- **Scope**: Server-wide only

</Admonition>

<Admonition type="note" title="">    

## Cluster.MaxClusterTransactionCompareExchangeTombstoneCheckIntervalInMin

EXPERT ONLY:

* This configuration sets the interval (in minutes) between checks for compare-exchange tombstones that can be marked for deletion by the cluster-wide transaction mechanism on the node.
  This is separate from checks performed by other subscribers (such as indexes, subscriptions, or ETL tasks).

* Normally, whenever a cluster-wide transaction command is processed, the cluster-wide transaction mechanism checks for compare-exchange tombstones that can be marked as eligible for deletion.
  If no cluster-wide transaction command occurs within the specified interval, the mechanism will automatically perform this check after the configured time has elapsed.

* Any tombstones that have been fully handled by the cluster-wide transaction mechanism will be marked for deletion, making them eligible for cleanup by the tombstone cleaner task.

---

- **Type**: `int`
- **Default**: `5`
- **Scope**: Server-wide only

</Admonition>

<Admonition type="note" title="">  

## Cluster.DisableAtomicDocumentWrites

EXPERT ONLY:  
Disable automatic atomic writes with cluster write transactions.  
If set to _true_, will only consider explicitly added compare exchange values to validate cluster wide transactions.

- **Type**: `bool`
- **Default**: `false`
- **Scope**: Server-wide or per database

</Admonition>
