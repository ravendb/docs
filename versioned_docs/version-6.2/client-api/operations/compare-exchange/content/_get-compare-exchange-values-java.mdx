import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">

* Use `GetCompareExchangeValuesOperation` to return the saved compare-exchange _Values_ for the specified _Keys_.  

* For an overview of the 'Compare Exchange' feature click: [Compare Exchange Overview](../../../../client-api/operations/compare-exchange/overview.mdx)

* In this page:  
  * [Syntax](../../../../client-api/operations/compare-exchange/get-compare-exchange-values.mdx#syntax)  
  * [Example I - Get Value for Specified Keys](../../../../client-api/operations/compare-exchange/get-compare-exchange-values.mdx#example-i---get-values-for-specified-keys)  
  * [Example II - Get Values for Keys with Common Prefix](../../../../client-api/operations/compare-exchange/get-compare-exchange-values.mdx#example-ii---get-values-for-keys-with-common-prefix)  
</Admonition>
## Syntax

**Methods**:
<TabItem value="get_list_0" label="get_list_0">
<CodeBlock language="java">
{`GetCompareExchangeValuesOperation(Class<T> clazz, String[] keys);
`}
</CodeBlock>
</TabItem>

<TabItem value="get_list_1" label="get_list_1">
<CodeBlock language="java">
{`GetCompareExchangeValuesOperation(Class<T> clazz, String startWith)
GetCompareExchangeValuesOperation(Class<T> clazz, String startWith, Integer start)
GetCompareExchangeValuesOperation(Class<T> clazz, String startWith, Integer start, Integer pageSize)
`}
</CodeBlock>
</TabItem>

| Parameters | Type | Description |
| ------------- | ------------- | ----- |
| **keys** | String[] | List of keys to get |
| **startWith** | String | A common prefix for those keys whose values should be returned |
| **start** | int | The number of items that should be skipped |
| **pageSize** | int | The maximum number of values that will be retrieved |

**Returned object**:
<TabItem value="compare_exchange_value" label="compare_exchange_value">
<CodeBlock language="java">
{`public class CompareExchangeValue<T> \{
    private String key;
    private long index;
    private T value;

    public CompareExchangeValue(String key, long index, T value) \{
        this.key = key;
        this.index = index;
        this.value = value;
    \}

    public String getKey() \{
        return key;
    \}

    public void setKey(String key) \{
        this.key = key;
    \}

    public long getIndex() \{
        return index;
    \}

    public void setIndex(long index) \{
        this.index = index;
    \}

    public T getValue() \{
        return value;
    \}

    public void setValue(T value) \{
        this.value = value;
    \}
\}
`}
</CodeBlock>
</TabItem>

| Return Value | Description |
| ------------- | ----- |
| `Map<String, CompareExchangeValue<T>>` | A map containing _'Key'_ to _'CompareExchangeValue'_ associations |


## Example I - Get Values for Specified Keys

<TabItem value="get_list_2" label="get_list_2">
<CodeBlock language="java">
{`Map<String, CompareExchangeValue<String>> compareExchangeValues
    = store.operations().send(
        new GetCompareExchangeValuesOperation<>(String.class, new String[]\{"Key-1", "Key-2"\}));
`}
</CodeBlock>
</TabItem>  


## Example II - Get Values for Keys with Common Prefix

<TabItem value="get_list_3" label="get_list_3">
<CodeBlock language="java">
{`// Get values for keys that have the common prefix 'users'
// Retrieve maximum 20 entries
Map<String, CompareExchangeValue<User>> compareExchangeValues
    = store.operations().send(
        new GetCompareExchangeValuesOperation<>(User.class, "users", 0, 20));
`}
</CodeBlock>
</TabItem>  



