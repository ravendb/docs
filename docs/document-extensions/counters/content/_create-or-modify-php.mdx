import Admonition from '@theme/Admonition';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

<Admonition type="note" title="">

* Use the `countersFor.increment` method to **create** a new Counter or **modify** an existing Counter's value.  

*  If the Counter exists, `increment` will add the specified number to the Counter's current value.  
   If the Counter doesn't exist, `increment` will create it and set its initial value.  

* For all other `countersFor` methods see this [Overview](../../../document-extensions/counters/overview.mdx#counter-methods-and-the--object).

* In this page:
  - [`increment` usage](../../../document-extensions/counters/create-or-modify.mdx#increment-usage)
  - [Example](../../../document-extensions/counters/create-or-modify.mdx#example)
  - [Syntax](../../../document-extensions/counters/create-or-modify.mdx#syntax)

</Admonition>
## `increment` usage

 **Flow**:  

* Open a session.  
* Create an instance of `countersFor`.  
    * Either pass `countersFor` an explicit document ID, -or-  
    * Pass it an [entity tracked by the session](../../../client-api/session/loading-entities.mdx), 
      e.g. a document object returned from [session.Query](../../../querying/overview.mdx) or from [session.Load](../../../client-api/session/loading-entities.mdx#load).  
* Call `countersFor.increment`.
* Call `session.saveChanges` for the changes to take effect.  

**Note**:

* Modifying a Counter using `increment` only takes effect when `session.aaveChanges()` is executed.  
* To **decrease** a Counter's value, pass the method a negative number to the `increment` method.  



## Example

<TabItem value="counters_region_Increment" label="counters_region_Increment">
<CodeBlock language="php">
{`// Open a session
$session = $docStore->openSession();
try \{
    // Pass the countersFor constructor a document ID
    $documentCounters = $session->countersFor("products/1-A");

    // Use \`countersFor.increment\`:
    // ============================

    // Increase "ProductLikes" by 1, or create it if doesn't exist with a value of 1
    $documentCounters->increment("ProductLikes");

    // Increase "ProductPageViews" by 15, or create it if doesn't exist with a value of 15
    $documentCounters->increment("ProductPageViews", 15);

    // Decrease "DaysLeftForSale" by 10, or create it if doesn't exist with a value of -10
    $documentCounters->increment("DaysLeftForSale", -10);

    // Execute all changes by calling SaveChanges
    $session->saveChanges();
\} finally \{
    $session->close();
\}
`}
</CodeBlock>
</TabItem>



## Syntax

<TabItem value="CountersFor-definition" label="CountersFor-definition">
<CodeBlock language="php">
{`public function countersFor(string|object $idOrEntity): SessionDocumentCountersInterface;
`}
</CodeBlock>
</TabItem>

| Parameter        | Type  | Description     |
|------------------|-------|-----------------|
| **idOrEntity** | `string` or `object`| The object to create or modify counters for |
<TabItem value="Increment-definition" label="Increment-definition">
<CodeBlock language="php">
{`public function increment(?string $counter, int $delta = 1): void;
`}
</CodeBlock>
</TabItem>

| Parameter        | Type  | Description     |
|------------------|-------|-----------------|
| **counter** | `string` | Counter name  |
| **delta** | `int` | Increase Counter by this value.<br/>Default value is 1.<br/>For a new Counter, this number will be its initial value. |




